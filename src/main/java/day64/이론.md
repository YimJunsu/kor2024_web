## 💬양방향과 단방향의 관계( JPA 중 )

- 양방향 : 두 엔티티가 서로를 참조하는 관계
    - 양쪽에서 서로의 데이터를 자주 참조해야 할 때 사용.

      ex) 회원이 자신의 모든 주문 목록을 확인해야 할 때

      → MemberEntity가 OrderEntity를 참조하는것이 필요


---

- 단방향 : 한 쪽 엔티티에서만 다른 엔티티를 참조하는 관계
    - 단순히 한쪽에서 다른 쪽의 정보만 필요 할 때 사용.

      ex) 주문이 어떤 회원의 것인지 알아야 하지만, 회원은 모든 주문을 알 필요가 없을때.


| 특징 | 단방향 | 양방향 |
| --- | --- | --- |
| 구조 | 한쪽만 참조 | 양쪽 모두 참조 |
| 복잡성 | 간단 | 더 복잡 |
| 성능 | 더 효율적 | 추가 연산 필요    |
| 사용 예시 | 간단한 관계, 참조가 한쪽에서만 필요할 때.  주문 → 회원(Order에서 Member만 참조) | 양 쪽 모두 데이터 참조가 필요한 경우.                  회원 ↔ 주문 (회원이 주문 목록을 확인 하는 경우                |

## 💬양방향과 단방향 / 데이터베이스의 PK와 FK

- 기본키(PK, Primary Key)
    - 테이블의 각 행을 고유하게 식별하는 열(Column) / JPA에서  “@Id” 를 사용하여 엔티티의 기본키 정의.
- 외래키(FK, Foreign Key)
    - 테이블 간의 관계를 나타냄 / JPA에서 “@ManyToOne” 이나 “@OneToOne” 등과 같은 어노테이션으로 외래키 관계 정의.

    ---




- 단방향 VS 양방향의 FK 연결
    - 단방향 :
        - 데이터베이스의 FK는 여전히 존재하지만, JPA 엔티티에서는 한쪽 엔티티만 참조.
        - DB 관점 : 외래키는 명확히 설정되지만, JPA의 객체 그래프에서 한 방향으로만 탐색 가능.
    - 양방향 :
        - 데이터베이스의 FK는 동일하지만, JPA에서는 두 엔티티가 서로를 참조,
        - DB 관점 : FK는 한 방향이지만, JPA에서는 객체 그래프를 양쪽으로 탐색할 수 있다.

➡️ DB에서는 FK를 통해 항상 단방향

- 즉, 데이터베이스는 FK를 통해 한 쪽 테이블에서 다른 테이블로 “참조”만 할 수 있다.
- 양방향 탐색은 JPA같은 ORM이 객체 그래프를 통해 구현한것.
- JPA의 양방향 관계는 DB FK를 활용해 객체 그래프를 확장한 개념이다.